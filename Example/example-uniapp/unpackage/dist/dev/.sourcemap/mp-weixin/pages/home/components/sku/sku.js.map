{"version":3,"sources":["webpack:///E:/电子商务系统分析课件/m09641/Example/example-uniapp/pages/home/components/sku/sku.vue?1bab","webpack:///E:/电子商务系统分析课件/m09641/Example/example-uniapp/pages/home/components/sku/sku.vue?b24a","webpack:///E:/电子商务系统分析课件/m09641/Example/example-uniapp/pages/home/components/sku/sku.vue?c5ac","webpack:///E:/电子商务系统分析课件/m09641/Example/example-uniapp/pages/home/components/sku/sku.vue?13f5","uni-app:///pages/home/components/sku/sku.vue","webpack:///E:/电子商务系统分析课件/m09641/Example/example-uniapp/pages/home/components/sku/sku.vue?ad67","webpack:///E:/电子商务系统分析课件/m09641/Example/example-uniapp/pages/home/components/sku/sku.vue?dfa8"],"names":["data","number","current","currentArr","currentSku","skulength","issku","update","nowList","components","props","colors","type","showModal","default","skuList","bottoms","computed","skuArr","watch","methods","moveHandle","onhide","onsubmit","datas","productId","buyCount","request","uni","title","icon","goods","url","setTimeout"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACsC;;;AAGxF;AACwM;AACxM,gBAAgB,sMAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAyxB,CAAgB,0uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACkC7yB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IACAC;MACAC;IACA;IACAC;MACAD;MACAE;IACA;IACAC;MACAH;IACA;IACAI;MACAJ;MACAE;IACA;EACA;EACAG;IACAC;MACA;IACA;EACA;EACAC;IACAJ;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAK;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAC;MACA;QAAA;QACA;UACAC;UACAC;QACA;QACAC;UACA;YACA;YACAC;cACAC;cACAC;YACA;UACA;QACA;MACA;QAAA;QACA;QACAN;QACAO;QACAH;UAAA;UACAI;QACA;MACA;MACAC;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxHA;AAAA;AAAA;AAAA;AAAg/C,CAAgB,q1CAAG,EAAC,C;;;;;;;;;;;ACApgD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/components/sku/sku.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./sku.vue?vue&type=template&id=23663ef9&scoped=true&\"\nvar renderjs\nimport script from \"./sku.vue?vue&type=script&lang=js&\"\nexport * from \"./sku.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sku.vue?vue&type=style&index=0&id=23663ef9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23663ef9\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/components/sku/sku.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=template&id=23663ef9&scoped=true&\"","var components\ntry {\n  components = {\n    uNumberBox: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-number-box/u-number-box\" */ \"uview-ui/components/u-number-box/u-number-box.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.currentSku.imageUrls && _vm.currentSku.imageUrls.length > 0\n  var g1 = (Number(_vm.currentSku.price) * _vm.number).toFixed(0)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=script&lang=js&\"","<template>\r\n   <!-- 弹出规格选项 -->\r\n    <view class=\"popup\">\r\n      <view class=\"mask\" @touchmove.stop.prevent=\"moveHandle\" v-if=\"showModal\" @tap=\"onhide\"></view>\r\n      <view @touchmove.stop.prevent=\"moveHandle\" :class=\"'sku ' + (showModal==true ? 'shows':'')\" :style=\"{bottom: showModal == true ? bottoms+'upx': ''}\">\r\n        <view class=\"sku_top\">\r\n          <image :src=\"currentSku.imageUrls&&currentSku.imageUrls.length>0?currentSku.imageUrls[0].cosUrl:'/static/img/noProduct.png'\" class=\"top_img\"></image>\r\n          <view class=\"sku_title\">\r\n           {{nowList.productName}}\r\n          </view>\r\n          <view class=\"moneys\">\r\n            {{(Number(currentSku.price) * number).toFixed(0)}}元\r\n          </view>\r\n\t\t  <view style=\"display: flex;justify-content: space-between;\">\r\n\t\t\t  <view class=\"kucun\">\r\n\t\t\t    库存: {{currentSku.stock}}\r\n\t\t\t  </view>\r\n\t\t  </view>\r\n        </view>\r\n          <view class=\"number\">\r\n            <view class=\"n_left\">购买数量</view>\r\n            <view class=\"n_right\">\r\n\t\t\t  <u-number-box v-model=\"number\" :min=\"1\" :max=\"currentSku.stock\"></u-number-box>\r\n            </view>\r\n          </view>\r\n          <view class=\"btn_box\">\r\n            <view class=\"addcart_btn\" :style=\"'background-color:' + colors\" @tap=\"onsubmit('add')\">加入购物车</view>\r\n            <view class=\"submit\" :style=\"'background-color:' + colors\" @tap=\"onsubmit('pay')\">立即购买</view>\r\n          </view>\r\n      </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nimport {getCart, setCart , setGoodsData, getToken} from '@/utils/index.js'\r\nimport {request} from '@/api/server.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      number: 1,\r\n      current: \"\",\r\n\t  currentArr:[], //当前选中的规格数组\r\n\t  currentSku:{}, //选择后的规格详情\r\n\t  skulength: 0, //选择商品规格的长度\r\n\t  issku: false ,//判断当前商品是否存在规格\r\n\t  update: true,\r\n\t  nowList:{}\r\n    };\r\n  },\r\n  components: {},\r\n  props: {\r\n    colors: {\r\n      type: String\r\n    },\r\n    showModal: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    skuList: {\r\n      type: Object\r\n    },\r\n\tbottoms:{\r\n\t  type: String,\r\n\t  default: 0\r\n\t}\r\n  },\r\n  computed:{\r\n\t  skuArr() {\r\n\t  \treturn this.skuList.skuArr;\r\n\t  }\r\n  },\r\n  watch:{\r\n\tskuList(value){//监听商品规格变化 来清空之前所选的规格\r\n\t\tthis.currentArr = []\r\n\t\tthis.issku = false //初始化当前规格的条件\r\n\t\tthis.number = 1 //初始数量\r\n\t\tthis.skulength = 0 //初始化商品规格长度\r\n\t\tthis.currentSku = value\r\n\t\tthis.nowList = value\r\n\t}  \r\n  },\r\n  methods: {\r\n   moveHandle(){\r\n\t return  \r\n   },\r\n    onhide() {\r\n      //隐藏规格对话框\r\n\t  this.$emit('onhide')\r\n    },\r\n    onsubmit(value) {\r\n    \t//此处应调用接口来添加购物车 现模拟添加到购物车\r\n    \tvar datas = this.nowList\r\n\t\tdatas.number = this.number\r\n\t\tif(value == 'add'){ //如果是添加购物车\r\n\t\t\tvar data = {\r\n\t\t\t\tproductId:this.nowList.productId,\r\n\t\t\t\tbuyCount:this.number\r\n\t\t\t}\r\n\t\t\trequest.post(\"/shopcarts\",data).then(res=>{\r\n\t\t\t\tif(res.code==0){\r\n\t\t\t\t\t// 存储商品数据\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t  title: '加入购物车成功 !',\r\n\t\t\t\t\t  icon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}else{ //如果是购买商品\r\n\t\t\tlet goods = []\r\n\t\t\tdatas.img = datas.imageUrls&&datas.imageUrls.length>0?datas.imageUrls[0].cosUrl:'/static/img/noProduct.png';\r\n\t\t\tgoods.push(datas)\r\n\t\t\tuni.navigateTo({  //提交订单\r\n\t\t\t\turl:'/shop/pages/order/confirmOrder?products='+encodeURIComponent(JSON.stringify(goods))\r\n\t\t\t})\r\n\t\t}\r\n        setTimeout(() => {\r\n\t\t  this.$emit('onhide')\r\n        }, 300);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.mask{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  background: #000;\r\n  z-index: 900;\r\n  opacity: 0.7;\r\n}\r\n.sku{\r\n  width: 100vw;\r\n  min-height: 30vh;\r\n  position: fixed;\r\n  bottom: -100%;\r\n  z-index: 910;\r\n  left: 0;\r\n  background-color: #ffffff;\r\n  padding: 20upx 4%;\r\n  border-top-left-radius: 10upx;\r\n  border-top-right-radius: 10upx;\r\n  border-bottom: 1upx solid #eee;\r\n  transition: all 0.3s;\r\n}\r\n.shows{\r\n  bottom: 0;\r\n  transition: all 0.3s;\r\n}\r\n.sku_top{\r\n  overflow: hidden;\r\n  margin-top: 20upx;\r\n}\r\n.sku_top .top_img{\r\n  height: 170upx;\r\n  width: 170upx;\r\n  float: left;\r\n  margin-right: 15upx;\r\n  border-radius: 8upx;\r\n}\r\n.sku_top .sku_title{\r\n  font-size: 30upx;\r\n  line-height: 35upx;\r\n  font-weight: bold;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n}\r\n.sku_top .moneys{\r\n  font-size: 30upx;\r\n  line-height: 40upx;\r\n  overflow: hidden;\r\n  margin-top: 20upx;\r\n  font-weight: bold;\r\n  color: $mycolor;\r\n}\r\n.sku_top .kucun{\r\n  font-size: 24upx;\r\n  color: #999;\r\n  overflow: hidden;\r\n}\r\n.sku_list{\r\n  margin-top: 20upx;\r\n  overflow: hidden;\r\n  margin-bottom: 40upx;\r\n}\r\n.sku_name{\r\n  font-size: 24upx;\r\n  color: #666;\r\n  overflow: hidden;\r\n}\r\n.sku_tag{\r\n  overflow: hidden;\r\n  margin-top: 20upx;\r\n}\r\n.sku_tag .tag_s{\r\n  height: 60upx;\r\n  line-height: 60upx;\r\n  align-items: center;\r\n  padding: 0 20upx;\r\n  text-align: center;\r\n  font-size: 26upx;\r\n  color: #202020;\r\n  background-color: #F5F5F5;\r\n  border: 1upx solid #F5F5F5;\r\n  float: left;\r\n  border-radius: 40upx;\r\n  margin-right: 20upx;\r\n  transition: all 0.2s;\r\n  margin-bottom: 20upx;\r\n  font-weight: 500;\r\n  &::after{\r\n\t  border: none;\r\n  }\r\n}\r\n.number{\r\n  margin-top: 10upx;\r\n  border-top: 1upx solid #ccc;\r\n  width: 100%;\r\n  height: 80upx;\r\n  line-height: 80upx;\r\n  padding-top: 10upx;\r\n}\r\n.number .n_left{\r\n  float: left;\r\n  font-size: 28upx;\r\n  color: #333;\r\n}\r\n.number .n_right{\r\n  float: right;\r\n  border-radius: 5upx;\r\n}\r\n.n_right .jian,.jia{\r\n  width: 60upx;\r\n  height: 60upx;\r\n  text-align: center;\r\n  line-height: 60upx;\r\n  font-size: 42upx;\r\n}\r\n.jian{\r\n  float: left;\r\n}\r\n.jia{\r\n  float: right;\r\n}\r\n.jian:active{\r\n  background-color: #eee;\r\n}\r\n.jia:active{\r\n  background-color: #eee;\r\n}\r\n.n_right .inputs{\r\n  width: 76upx;\r\n  float: left;\r\n  text-align: center;\r\n  margin-top: 6upx;\r\n}\r\n.btn_box{\r\n  margin-top: 40upx;\r\n}\r\n.btn_box .addcart_btn, .submit{\r\n  width: 40vw;\r\n  height: 60upx;\r\n  line-height: 60upx;\r\n  border-radius: 42upx;\r\n  font-size: 26upx;\r\n  text-align: center;\r\n  color: #ffffff;\r\n  float: left;\r\n  margin-left: 30upx;\r\n  margin-bottom: 30upx;\r\n}\r\n.btn_box .addcart_btn:active{\r\n  opacity: 0.8;\r\n}\r\n.btn_box .submit:active{\r\n  opacity: 0.8;\r\n}\r\n.ondisabled{\r\n\tbackground-color: #F9F9F9;\r\n\topacity: 0.5;\r\n}\r\n</style>","import mod from \"-!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=style&index=0&id=23663ef9&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=style&index=0&id=23663ef9&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1690616670206\n      var cssReload = require(\"E:/HBuilderX.3.8.3.20230526/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}